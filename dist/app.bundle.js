(()=>{var t,e,r={943:(t,e,r)=>{const o=r(641).Ship;t.exports={Gameboard:class{constructor(){this.fleet=[],this.attacks=[]}placeShip(t,e,r=!1){this.#t(t),this.#e(e);const a=new o(t),n=[];for(let o=0;o<t;o++){let t=r?[e[0],e[1]+o]:[e[0]+o,e[1]];this.#e(t),n.push(t)}this.fleet.push({ship:a,shipCoordinates:n})}receiveAttack(t){const[e,r]=t;let o=!1;for(const a of this.fleet)for(const[n,i]of a.shipCoordinates)if(n===e&&i===r)return o=!0,a.ship.hit(),this.attacks.push([t,o]),o;return this.attacks.push([t,o]),o}isFleetSunk(){return this.fleet.every((t=>t.ship.isSunk()))}#t(t){if(t>5||t<2)throw new Error("Invalid ship length")}#e(t){const[e,r]=t;if(e<0||e>9||r<0||r>9)throw new Error("Invalid coordinates (out of range)");this.fleet.forEach((t=>{for(const[o,a]of t.shipCoordinates)if(o===e&&a===r)throw new Error("Invalid coordinates (ship already present)")}))}}}},195:(t,e,r)=>{const o=r(943).Gameboard;class a{constructor(t){this.name=t,this.board=new o}randomizeShips(){this.board.fleet=[];const t=[[1,5],[2,4],[3,3],[4,2]];for(const[e,r]of t)for(let t=0;t<e;t++)try{const t=Math.floor(10*Math.random()),e=Math.floor(10*Math.random()),o=!!Math.floor(Math.random());this.board.placeShip(r,[t,e],o)}catch(e){t--}}}t.exports={Player:a,ComputerPlayer:class extends a{constructor(){super("Computer"),this.playedCoordinates=[]}randomAttack(){const t={};do{t.x=Math.floor(10*Math.random()),t.y=Math.floor(10*Math.random())}while(this.playedCoordinates.some((e=>e[0]==t.x&&e[1]==t.y)));return this.playedCoordinates.push([t.x,t.y]),[t.x,t.y]}}}},641:t=>{t.exports={Ship:class{constructor(t){this.length=t,this.hits=0}hit(){this.hits++}isSunk(){return this.hits>=this.length}}}}},o={};function a(t){var e=o[t];if(void 0!==e)return e.exports;var n=o[t]={id:t,exports:{}};return r[t](n,n.exports,a),n.exports}a.m=r,a.n=t=>{var e=t&&t.__esModule?()=>t.default:()=>t;return a.d(e,{a:e}),e},a.d=(t,e)=>{for(var r in e)a.o(e,r)&&!a.o(t,r)&&Object.defineProperty(t,r,{enumerable:!0,get:e[r]})},a.f={},a.e=t=>Promise.all(Object.keys(a.f).reduce(((e,r)=>(a.f[r](t,e),e)),[])),a.u=t=>t+".bundle.js",a.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(t){if("object"==typeof window)return window}}(),a.o=(t,e)=>Object.prototype.hasOwnProperty.call(t,e),t={},e="battleship:",a.l=(r,o,n,i)=>{if(t[r])t[r].push(o);else{var s,c;if(void 0!==n)for(var l=document.getElementsByTagName("script"),d=0;d<l.length;d++){var u=l[d];if(u.getAttribute("src")==r||u.getAttribute("data-webpack")==e+n){s=u;break}}s||(c=!0,(s=document.createElement("script")).charset="utf-8",s.timeout=120,a.nc&&s.setAttribute("nonce",a.nc),s.setAttribute("data-webpack",e+n),s.src=r),t[r]=[o];var h=(e,o)=>{s.onerror=s.onload=null,clearTimeout(p);var a=t[r];if(delete t[r],s.parentNode&&s.parentNode.removeChild(s),a&&a.forEach((t=>t(o))),e)return e(o)},p=setTimeout(h.bind(null,void 0,{type:"timeout",target:s}),12e4);s.onerror=h.bind(null,s.onerror),s.onload=h.bind(null,s.onload),c&&document.head.appendChild(s)}},a.r=t=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},(()=>{var t;a.g.importScripts&&(t=a.g.location+"");var e=a.g.document;if(!t&&e&&(e.currentScript&&(t=e.currentScript.src),!t)){var r=e.getElementsByTagName("script");if(r.length)for(var o=r.length-1;o>-1&&(!t||!/^http(s?):/.test(t));)t=r[o--].src}if(!t)throw new Error("Automatic publicPath is not supported in this browser");t=t.replace(/#.*$/,"").replace(/\?.*$/,"").replace(/\/[^\/]+$/,"/"),a.p=t})(),(()=>{var t={524:0};a.f.j=(e,r)=>{var o=a.o(t,e)?t[e]:void 0;if(0!==o)if(o)r.push(o[2]);else{var n=new Promise(((r,a)=>o=t[e]=[r,a]));r.push(o[2]=n);var i=a.p+a.u(e),s=new Error;a.l(i,(r=>{if(a.o(t,e)&&(0!==(o=t[e])&&(t[e]=void 0),o)){var n=r&&("load"===r.type?"missing":r.type),i=r&&r.target&&r.target.src;s.message="Loading chunk "+e+" failed.\n("+n+": "+i+")",s.name="ChunkLoadError",s.type=n,s.request=i,o[1](s)}}),"chunk-"+e,e)}};var e=(e,r)=>{var o,n,[i,s,c]=r,l=0;if(i.some((e=>0!==t[e]))){for(o in s)a.o(s,o)&&(a.m[o]=s[o]);c&&c(a)}for(e&&e(r);l<i.length;l++)n=i[l],a.o(t,n)&&t[n]&&t[n][0](),t[n]=0},r=self.webpackChunkbattleship=self.webpackChunkbattleship||[];r.forEach(e.bind(null,0)),r.push=e.bind(null,r.push.bind(r))})(),a.nc=void 0,(()=>{"use strict";var t=a(195);function e(t,e,r){const o=document.createElementNS("http://www.w3.org/2000/svg","rect"),a=r/10;return o.setAttribute("width",a),o.setAttribute("height",a),o.setAttribute("data-x",`${t}`),o.setAttribute("data-y",`${e}`),o.setAttribute("x",t*a),o.setAttribute("y",e*a),o}function r(t,r){r.querySelector("svg")&&r.querySelector("svg").remove();const o=document.createElementNS("http://www.w3.org/2000/svg","svg"),a=document.createElementNS("http://www.w3.org/2000/svg","g");a.setAttribute("fill","white"),a.setAttribute("stroke","black"),a.setAttribute("stroke-width","1"),o.appendChild(a),o.setAttribute("width",t),o.setAttribute("height",t),o.setAttribute("xmlns","http://www.w3.org/2000/svg");for(let r=0;r<10;r++)for(let o=0;o<10;o++){const n=e(r,o,t);a.appendChild(n)}r.append(o)}function o(t,e){for(const[[r,o],a]of t){const t=e.querySelector(`rect[data-x='${r}'][data-y='${o}']`);a?t.setAttribute("fill","red"):t.setAttribute("fill","blue")}}a.e(511).then(a.bind(a,511)),function(){const e=document.querySelector("#firstPlayerGrid"),a=document.querySelector("#secondPlayerGrid"),n=new t.Player("Player"),i=new t.ComputerPlayer;let s=n,c=n,l=i;const d=()=>{var t,n;e.querySelector("h2").textContent=c.name,r(500,e),t=c.board.fleet,n=e,t.forEach((t=>{for(const[e,r]of t.shipCoordinates)n.querySelector(`rect[data-x='${e}'][data-y='${r}']`).setAttribute("fill","green")})),o(c.board.attacks,e),a.querySelector("h2").textContent=l.name,r(500,a),o(l.board.attacks,a)},u=()=>n.board.isFleetSunk()||i.board.isFleetSunk(),h=t=>{const e=document.createElement("div");e.id="winOverlay";const r=document.createElement("h2");r.textContent=t+" wins!",e.appendChild(r),document.querySelector("#container").append(e)};return{start:()=>{n.randomizeShips(),i.randomizeShips(),d(),a.addEventListener("click",(t=>{"rect"==t.target.tagName&&(t=>{if(s=n,l.board.receiveAttack(t),d(),u())return void h(s.name);s=i;const e=i.randomAttack();n.board.receiveAttack(e),d(),u()&&h(s.name)})([+t.target.getAttribute("data-x"),+t.target.getAttribute("data-y")])}))}}}().start()})()})();